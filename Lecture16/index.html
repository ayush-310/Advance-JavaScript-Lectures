<!-- #16 Advance JavaScript Fetch API Tutorial In Hindi  -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>#16 Advance JavaScript Fetch API Tutorial </h2>
    <img src="./img1.png" alt="">
    <img src="./img2.png" alt="">
    <img src="./img3.png" alt="">
    <img src="./img4.png" alt="">

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
            </tr>
        </thead>
        <tbody id="data">

        </tbody>
    </table>

    <br id="form">
    <label>id</label>
    <input type="text" id="user_id"><br></br>
    <label>Name</label>
    <input type="text" id="user_title"><br></br>
    <label>Email</label>
    <input type="email" id="user_email"><br></br>

    <input type="submit" id="submitForm"><br></br>
    </form>
    </form>
    <script>
        //    Example1  
        // fetch("content.txt")
        // .then((response) => {
        //     // console.log(response.text());
        //     return response.text();
        // })
        // .then((result) => {
        //     console.log(result);
        // })

        // ----------------------------------

        // Short Form 
        //     fetch("https://jsonplaceholder.typicode.com/users")
        //    .then(response => response.text())
        //    .then(result => console.log(result))


        //     fetch("https://jsonplaceholder.typicode.com/users")
        //    .then(response => response.json())
        //    .then(result => console.log(result))


        //     fetch("https://jsonplaceholder.typicode.com/users")
        //    .then(response => response.json())
        //    .then(result => console.log(result1))
        //    .catch(error => console.log("Data isn't coming"))


        // fetch("https://jsonplaceholder.typicode.com/users")
        //     .then(response => response.json())
        //     .then(result => {
        //         console.log(result);
        //         if (result.length > 0) {
        //             let table = "";
        //             result.forEach(resultItem => {
        //                 table += "<tr>";
        //                 table += "<td>" + resultItem.id + "</td>";
        //                 table += "<td>" + resultItem.name + "</td>";
        //                 table += "<td>" + resultItem.email + "</td>";
        //             })
        //             document.getElementById("data").innerHTML = table;
        //         }
        //     })
        //     .catch(errror => console.log("Data isn't coming"))

        // -------------------------------------------------


        // fetch('https://jsonplaceholder.typicode.com/posts', {
        //     method: 'POST',
        //     body: JSON.stringify({
        //         title: 'foo',
        //         body: 'bar',
        //         userId: 1,
        //     }),
        //     headers: {
        //         'Content-type': 'application/json; charset=UTF-8',
        //     },
        // })
        //     .then((response) => response.json())
        //     .then((json) => console.log(json));

        // -----------------------------------------


        // const obj = {
        //     title: 'foo',
        //     body: 'bar',
        //     userId: 1,
        // }
        // fetch('https://jsonplaceholder.typicode.com/posts', {
        //     method: 'POST',
        //     body: JSON.stringify(obj),
        //     headers: {
        //         'Content-type': 'application/json; charset=UTF-8',
        //     },
        // })
        //     .then((response) => response.json())
        //     .then((json) => console.log(json));

        // -------------------------------------------


        // document.getElementById("submitForm").addEventListener("click", function (e) {
        //     e.preventDefault();
        //     const obj = {
        //         title: document.getElementById("user_title").value,
        //         body: document.getElementById("user_email").value,
        //         userId: document.getElementById("user_id").value,
        //     }
        //     fetch('https://jsonplaceholder.typicode.com/posts', {
        //         method: 'POST',
        //         body: JSON.stringify(obj),
        //         headers: {
        //             'Content-typ e':'application/json; charset=UTF-8',
        //         },
        //     })
        //         .then((response) => response.json())
        //         .then((json) => console.log(json));
        // })


        // ----------------------------------------

        document.getElementById("submitForm").addEventListener("click", function (e) {
            e.preventDefault(e);
            // const obj = {
            //     title: document.getElementById("user_title").value,
            //     body: document.getElementById("user_email").value,
            //     userId: document.getElementById("user_id").value,
            // }
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: new FormData(document.getElementById('form')),
                headers: {
                    'Content-type':'application/x-www-form-urlencoded',
                },
            })
                .then((response) => response.json())
                .then((json) => console.log(json));
        })


    </script>
</body>

</html>